<!DOCTYPE html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
        <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
        
        <!-- TIMER -->
        <script type="text/javascript" src="assets/js/timerComponent.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
    </head>

    <body>
        <!-- renderer stuff  -->
        <a-scene renderer="antialias: true; logarithmicDepthBuffer: true; colorManagement: true" inspector-plugin-recast> <!-- stats -->
            <a-assets timeout="3000">
                <!-- SHELVES -->
                <img id="shelf_v81_img" src="/assets/models/shelves_v8/phong29SG_2D_View.png">
                <img id="shelf_v82_img" src="/assets/models/shelves_v8/phong33SG_2D_View.png">
                <img id="shelf_v83_img" src="/assets/models/shelves_v8/phong34SG_2D_View.png">
                <img id="shelf_v8_corner_img" src="/assets/models/shelves_v8/phong30SG_2D_View.png">
                <a-asset-item crossorigin="anonymous" id="shelf_v81_obj" src="assets/models/shelves_v8/shelf_v8.obj"></a-asset-item>
                <a-asset-item crossorigin="anonymous" id="shelf_v82_obj" src="assets/models/shelves_v8/shelf_v8_2.obj"></a-asset-item>
                <a-asset-item crossorigin="anonymous" id="shelf_v83_obj" src="assets/models/shelves_v8/shelf_v8_3.obj"></a-asset-item>
                <a-asset-item crossorigin="anonymous" id="shelf_v8_corner_obj" src="assets/models/shelves_v8/shelf_v8_corner.obj"></a-asset-item>

                <!-- ROOM -->
                <a-asset-item crossorigin="anonymous" id="wc_gltf" src="assets/models/wc2/wc_autosave_1.gltf"></a-asset-item>
                <img id="floorimg" src="/assets/models/floor_concrete.png">
                <a-asset-item crossorigin="anonymous" id="floor" src="assets/models/floor.obj"></a-asset-item>
                <a-asset-item crossorigin="anonymous" id="navmesh" src="assets/models/navmesh2.gltf"></a-asset-item>

                <!-- CABINETS -->
                <a-asset-item crossorigin="anonymous" id="cabinet_small" src="/assets/models/cabinets/cabinet_small.obj"></a-asset-item>
                <a-asset-item crossorigin="anonymous" id="cabinet_v2" src="/assets/models/cabinets/cabinet_v2.obj"></a-asset-item>
                <img id="cabinet_img" src="/assets/models/cabinets/cabinet_v2.png">
                <img id="cabinet_small_img" src="/assets/models/cabinets/cabinet_small.png">

                <!-- OBJECTS -->
                <a-asset-item crossorigin="anonymous" id="anubisobj" src="assets/models/canopic/anubis/anubis.obj"></a-asset-item>
                <img id="anubisimg" src="/assets/models/canopic/anubis/anubis_2D.png">
                <a-asset-item crossorigin="anonymous" id="horusobj" src="assets/models/canopic/horus/horus.obj"></a-asset-item>
                <img id="horusimg" src="/assets/models/canopic/horus/horus_2D.png">
                <a-asset-item crossorigin="anonymous" id="isisobj" src="assets/models/canopic/isis/isis.obj"></a-asset-item>
                <img id="isisimg" src="/assets/models/canopic/isis/isis_2D.png">

                <a-asset-item crossorigin="anonymous" id="whalehatobj" src="assets/models/hats/whale/whalehat.obj"></a-asset-item>
                <img id="whaleimg" src="/assets/models/hats/whale/whale_2D.png">
                <a-asset-item crossorigin="anonymous" id="turtlehatobj" src="assets/models/hats/turtle/turtlehat.obj"></a-asset-item>
                <img id="turtleimg" src="/assets/models/hats/turtle/turtle_2D.png">
                <a-asset-item crossorigin="anonymous" id="normhatobj" src="assets/models/hats/norm/normhat.obj"></a-asset-item>
                <img id="normimg" src="/assets/models/hats/norm/norm_2D.png">

                <a-asset-item crossorigin="anonymous" id="moai1obj" src="assets/models/moai/1/moai1.obj"></a-asset-item>
                <img id="moai1img" src="/assets/models/moai/1/moai1_2D.png">
                <a-asset-item crossorigin="anonymous" id="moai2obj" src="assets/models/moai/2/moai2.obj"></a-asset-item>
                <img id="moai2img" src="/assets/models/moai/2/moai2_2D.png">
                <a-asset-item crossorigin="anonymous" id="moai3obj" src="assets/models/moai/3/moai3.obj"></a-asset-item>
                <img id="moai3img" src="/assets/models/moai/3/moai3_2D.png">

                <!-- Background music -->
                <audio id="music" src="/assets/audio/backgroundSong.mp3" preload="auto"></audio>
            </a-assets>

            <!-- MIXINS -->
            <a-mixin id="shelf_v81_mix" obj-model="obj:#shelf_v81_obj" material="src:#shelf_v81_img" scale="0.2 0.2 0.2"></a-mixin>
            <a-mixin id="shelf_v82_mix" obj-model="obj:#shelf_v82_obj" material="src:#shelf_v82_img" scale="0.2 0.2 0.2"></a-mixin>
            <a-mixin id="shelf_v83_mix" obj-model="obj:#shelf_v83_obj" material="src:#shelf_v83_img" scale="0.2 0.2 0.2"></a-mixin>
            <a-mixin id="shelf_v8_corner_mix" obj-model="obj:#shelf_v8_corner_obj" material="src:#shelf_v8_corner_img" scale="0.2 0.2 0.2"></a-mixin>
            <a-mixin id="cabinet_v2_mix" obj-model="obj:#cabinet_v2" material="src:#cabinet_img" scale="0.2 0.2 0.2"></a-mixin>

            <!-- CAMERA -->
            <a-entity id="rig" movement-controls="constrainToNavMesh:true; controls:keyboard">
                <a-entity camera position="0 1.7 0 " look-controls="pointerLockEnabled:false"> 
                    <a-entity cursor="fuse:false; fuseTimeout:500; rayOrigin:mouse"
                            raycaster="far:10; interval:100; objects:.clickable"></a-entity>
                </a-entity>
                <a-entity id="tempTube" geometry="primitive: cylinder; openEnded: true ; radius:0.5; height:0.8" rotation="90 0 0" material="side:double; transparent:true; opacity:0; visible:false"></a-entity>
                <!-- BACKGROUND MUSIC, parented to camera so same loudness throughout: https://joshondesign.com/2017/07/24/aframe_tips -->
                <a-sound src="url(/assets/audio/backgroundSong.mp3)" autoplay="true" position="0 0 0" loop="true" volume="0.55"></a-sound>
                <!-- TIMER -->
                <a-entity id="timer" timer="timerTime:5; DigitsColor:red" position="0 3.5 -6"></a-entity> <!-- timer position in frame -->
            </a-entity>

            <!-- ROOM -->
            <a-entity id="wc" gltf-model="#wc_gltf" scale="0.2 0.2 0.2" rotation="0 0 0"></a-entity>
            <a-entity obj-model="obj:#floor" material="src:#floorimg" scale="0.2 0.2 0.2" rotation="0 180 0"></a-entity>
            <a-entity gltf-model="#navmesh" scale="0.2 0.2 0.2" rotation="0 0 0" position="0 0 0" nav-mesh visible="false"></a-entity>

            <!-- COLUMNS : commented columns are for rooms/origin -->
            <a-entity id="column-group">
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 -2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 -8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 -11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="14.81 0 -14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 -2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 -8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 -11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-14.81 0 -14.8"></a-entity>

                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 14.8"></a-entity>
                <!-- <a-entity mixin="shelf_v8_corner_mix" position="11.84 0 -2.96"></a-entity> -->
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 -8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 -11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="11.85 0 -14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-11.85 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-11.85 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-11.85 0 5.92"></a-entity>
                <!-- <a-entity mixin="shelf_v8_corner_mix" position="-11.84 0 8.88"></a-entity> -->
                <!-- <a-entity mixin="shelf_v8_corner_mix" position="-11.84 0 11.84"></a-entity> -->
                <a-entity mixin="shelf_v8_corner_mix" position="-11.85 0 14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-11.85 0 -2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-11.85 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-11.85 0 -8.88"></a-entity>
                <!-- <a-entity mixin="shelf_v8_corner_mix" position="-11.84 0 -11.84"></a-entity> -->
                <a-entity mixin="shelf_v8_corner_mix" position="-11.85 0 -14.8"></a-entity>

                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 14.8"></a-entity>
                <!-- <a-entity mixin="shelf_v8_corner_mix" position="8.88 0 -2.96"></a-entity> -->
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 -8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 -11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="8.89 0 -14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 -2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 -8.88"></a-entity>
                <!-- <a-entity mixin="shelf_v8_corner_mix" position="-8.88 0 -11.84"></a-entity> -->
                <a-entity mixin="shelf_v8_corner_mix" position="-8.89 0 -14.8"></a-entity>

                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 -2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 -8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 -11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="5.93 0 -14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 -2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 -8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 -11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-5.93 0 -14.8"></a-entity>

                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 -2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 -8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 -11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="2.97 0 -14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 0"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 14.8"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 -2.96"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 -5.92"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 -8.88"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 -11.84"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="-2.97 0 -14.8"></a-entity>

                <!-- <a-entity mixin="shelf_v8_corner_mix" position="0 0 0"></a-entity> -->
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 2.97"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 5.93"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 8.89"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 11.85"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 14.81"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -2.97"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -5.93"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -8.89"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -11.85"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -14.81"></a-entity>
                <!-- <a-entity mixin="shelf_v8_corner_mix" position="0 0 0"></a-entity> -->
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 2.97"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 5.93"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 8.89"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 11.85"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 14.81"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -2.97"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -5.93"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -8.89"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -11.85"></a-entity>
                <a-entity mixin="shelf_v8_corner_mix" position="0 0 -14.81"></a-entity>
            </a-entity>

            <!-- SHELVES -->
            <a-entity id="shelf-group">
                <!-- vertical -->
                <a-entity mixin="shelf_v81_mix" position="2.96 0.01 1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-2.96 0.01 1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="2.96 0.01 -1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-2.96 0.01 -1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-5.92 0.01 1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-11.84 0.01 1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="5.92 0.01 -1.48" rotation="0 0 0"></a-entity>

                <a-entity mixin="shelf_v82_mix" position="-5.92 0.01 4.44" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-8.88 0.01 4.44" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="2.96 0.01 -4.44" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="5.92 0.01 -4.44" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-8.88 0.01 -4.44" rotation="0 0 0"></a-entity>

                <a-entity mixin="shelf_v81_mix" position="2.96 0.01 7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-2.96 0.01 7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-5.92 0.01 7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-8.88 0.01 7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="5.92 0.01 -7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="2.96 0.01 -7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-5.92 0.01 -7.4" rotation="0 0 0"></a-entity>

                <a-entity mixin="shelf_v82_mix" position="8.88 0.01 10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="5.92 0.01 10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="2.96 0.01 10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-8.88 0.01 10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-5.92 0.01 -10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="0 0.01 -10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-2.96 0.01 -10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-5.92 0.01 -10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="5.92 0.01 -10.36" rotation="0 0 0"></a-entity>

                <a-entity mixin="shelf_v82_mix" position="5.92 0.01 13.32" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="2.96 0.01 -13.32" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-2.96 0.01 -13.32" rotation="0 0 0"></a-entity>

                <a-entity mixin="shelf_v82_mix" position="14.8 0.01 1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="14.8 0.01 4.44" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="14.8 0.01 7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="14.8 0.01 10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="14.8 0.01 13.32" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="14.8 0.01 -1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="14.8 0.01 -4.44" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="14.8 0.01 -7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="14.8 0.01 -10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="14.8 0.01 -13.32" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-14.8 0.01 1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-14.8 0.01 4.44" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-14.8 0.01 7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-14.8 0.01 10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-14.8 0.01 13.32" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-14.8 0.01 -1.48" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-14.8 0.01 -4.44" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-14.8 0.01 -7.4" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-14.8 0.01 -10.36" rotation="0 0 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-14.8 0.01 -13.32" rotation="0 0 0"></a-entity>

                <!-- horizontal -->
                <a-entity mixin="shelf_v81_mix" position="1.48 0.01 -8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="1.48 0.01 -2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="1.48 0.01 2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="1.48 0.01 8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="1.48 0.01 11.84" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-1.48 0.01 -8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-1.48 0.01 -5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-1.48 0.01 -2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-1.48 0.01 5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-1.48 0.01 11.84" rotation="0 90 0"></a-entity>

                <a-entity mixin="shelf_v82_mix" position="4.44 0.01 2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="4.44 0.01 5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-4.44 0.01 -5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-4.44 0.01 -2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-4.44 0.01 8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-4.44 0.01 11.84" rotation="0 90 0"></a-entity>

                <a-entity mixin="shelf_v82_mix" position="7.4 0.01 -11.84" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="7.4 0.01 -5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="7.4 0.01 0" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="7.4 0.01 2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="7.4 0.01 5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-7.4 0.01 -8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-7.4 0.01 -2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-7.4 0.01 0" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-7.4 0.01 11.84" rotation="0 90 0"></a-entity>

                <a-entity mixin="shelf_v82_mix" position="10.36 0.01 -11.84" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="10.36 0.01 -8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="10.36 0.01 -5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="10.36 0.01 0" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="10.36 0.01 2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="10.36 0.01 5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="10.36 0.01 8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="10.36 0.01 11.84" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-10.36 0.01 -8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-10.36 0.01 -5.92" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-10.36 0.01 0" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-10.36 0.01 5.92" rotation="0 90 0"></a-entity>

                <a-entity mixin="shelf_v82_mix" position="13.32 0.01 -8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="13.32 0.01 0" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="13.32 0.01 8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-13.32 0.01 -8.88" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-13.32 0.01 -2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-13.32 0.01 2.96" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-13.32 0.01 5.92" rotation="0 90 0"></a-entity>

                <a-entity mixin="shelf_v83_mix" position="1.48 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="4.44 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="7.4 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="10.36 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="13.32 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-1.48 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-4.44 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-7.4 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-10.36 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-13.32 0.01 14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="1.48 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="4.44 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="7.4 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="10.36 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="13.32 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-1.48 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-4.44 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v82_mix" position="-7.4 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v83_mix" position="-10.36 0.01 -14.8" rotation="0 90 0"></a-entity>
                <a-entity mixin="shelf_v81_mix" position="-13.32 0.01 -14.8" rotation="0 90 0"></a-entity>
            </a-entity>
            
            <!-- CABINETS & OBJECTS -->
            <a-entity id="cabinet-group">
                <a-entity mixin="cabinet_v2_mix" position="-10.36 0 -11.84" rotation="0 90 0">
                    <a-entity id="anubis" obj-model="obj:#anubisobj" material="src:#anubisimg" scale="0.6 0.6 0.6" position="0 6 -5.5" rotation="0 -90 0"></a-entity>
                    <a-entity id="horus" obj-model="obj:#horusobj" material="src:#horusimg" scale="0.6 0.6 0.6" position="0 6 0"  rotation="0 -90 0"></a-entity>
                    <a-entity id="isis" obj-model="obj:#isisobj" material="src:#isisimg" scale="0.6 0.6 0.6" position="0 6 5.5"  rotation="0 -90 0"></a-entity>
                </a-entity>

                <a-entity mixin="cabinet_v2_mix" position="10.36 0 -2.96" rotation="0 90 0">
                    <a-entity id="moai1" obj-model="obj:#moai1obj" material="src:#moai1img" scale="0.6 0.6 0.6" position="0 6 -5.5" rotation="0 90 0"></a-entity>
                    <a-entity id="moai2" obj-model="obj:#moai2obj" material="src:#moai2img" scale="0.6 0.6 0.6" position="0 6 0"  rotation="0 90 0"></a-entity>
                    <a-entity id="moai3" obj-model="obj:#moai3obj" material="src:#moai3img" scale="0.6 0.6 0.6" position="0 6 5.5"  rotation="0 90 0"></a-entity>
                </a-entity>

                <a-entity mixin="cabinet_v2_mix" position="-11.84 0 10.36" rotation="0 0 0">
                    <a-entity id="whalehat" obj-model="obj:#whalehatobj" material="src:#whaleimg" scale="0.6 0.6 0.6" position="0 6.4 -5.5" rotation="0 90 0"></a-entity>
                    <a-entity id="turtlehat" obj-model="obj:#turtlehatobj" material="src:#turtleimg" scale="0.6 0.6 0.6" position="0 6.4 0"  rotation="0 0 0"></a-entity>
                    <a-entity id="normhat" obj-model="obj:#normhatobj" material="src:#normimg" scale="0.6 0.6 0.6" position="0 6.4 5.5"  rotation="0 90 0"></a-entity>
                </a-entity>

                <a-entity id="dropzone" obj-model="obj:#cabinet_small" material="src:#cabinet_small_img" scale="0.2 0.2 0.2" position="0 0 -2" rotation="0 90 0"></a-entity>
            </a-entity>         

        </a-scene>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            let socket = io();

            //default connect event
            socket.on('connect', function() {
                console.log("connected!");
            });
            //spawn object with texture from drawing
            socket.on("imageToStudent", function(data){

                console.log("request recieved!")

                newObject = document.createElement("a-plane")
                newObject.setAttribute("src", data)
                newObject.setAttribute("position", "-0.3 1.2 -0.5")
                newObject.setAttribute("height", "0.2")
                newObject.setAttribute("width", "0.2")
                newObject.setAttribute("material", "color:none; side:double")

                document.getElementById("playerRig").appendChild(newObject)
            })

            //hot cold 
            socket.on("hotToStudent", function(){
                console.log("hot")
                document.getElementById("tempTube").setAttribute("material", "color:red")
                tempTubeOpacity()

            })
            socket.on("coldToStudent", function(){
                console.log("cold")
                document.getElementById("tempTube").setAttribute("material", "color:blue")
                tempTubeOpacity()
            })

            //increase and decrease opacity
            function tempTubeOpacity(){
                let opacity = 0.0
                let turningOpaque = true
                let increase = 0.05
                let intervalDur = 50
                let maxOpacity = 0.6

                document.getElementById("tempTube").setAttribute("material", "visible:true")
                let tubeFade = setInterval(function(){
                    if (turningOpaque == true){
                        opacity += increase
                    }else{
                        opacity -= increase
                    }
                    document.getElementById("tempTube").setAttribute("material", "opacity:" + opacity)
                    
                    if (opacity >= maxOpacity){
                        turningOpaque = false
                    } else if (opacity <= 0){
                        document.getElementById("tempTube").setAttribute("material", "visible:false")
                        clearInterval(tubeFade)
                    }
                }, intervalDur)
            }

            //send the xy coordinates
            function sendXY(){
                let position = {x: document.getElementById("playerRig").getAttribute("position").x, y: document.getElementById("playerRig").getAttribute("position").z}
                socket.emit("xy", position)
            }

            let locationSend = setInterval(sendXY, 100)
        </script>
    </body>
</html>